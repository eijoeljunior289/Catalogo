// Array de jogos (global) com informa√ß√µes sobre cada jogo
window.games = [
    // üïπÔ∏è JOGOS
    {
        id: 1,
        title: 'Fuga de Marte',
        category: 'jogos',
        image: 'logos/fm.webp',
        androidVersion: '15 ou superior',
        link: 'https://play.google.com/store/apps/details?id=com.JEGIF.FugaDeMarteIntroduoAAlgoritmos&pcampaignid=web_share'
    },
    {
        id: 2,
        title: 'Jararavras - em manunten√ß√£o',
        category: 'jogos',
        image: 'logos/j.webp',
        androidVersion: '15 ou superior',
        link: 'https://play.google.com/store/apps/developer?id=GRUPO+DE+ESTUDO+DE+JOGOS+DO+IFBAIANO'
    },
    {
        id: 3,
        title: 'Script Saga',
        category: 'jogos',
        image: 'logos/ss.webp',
        androidVersion: '15 ou superior',
        link: 'https://play.google.com/store/apps/details?id=com.IFBAIANO.SCRIPTSAGA&pcampaignid=web_share'
    },
    {
        id: 4,
        title: 'Tabuleiro L√≥gico',
        category: 'jogos',
        image: 'logos/tl.webp',
        androidVersion: '15 ou superior',
        link: 'https://play.google.com/store/apps/details?id=com.IFBAIANO.TabuleiroLogico&pcampaignid=web_share'
    },
    {
        id: 5,
        title: 'InterageTEA',
        category: 'jogos',
        image: 'logos/it.webp',
        androidVersion: '15 ou superior',
        link: 'https://play.google.com/store/apps/details?id=com.IFBaiano.InterageTEA&pcampaignid=web_share'
    },
    {
        id: 6,
        title: 'Pe√ßa por Pe√ßa',
        category: 'jogos',
        image: 'logos/pp.webp',
        androidVersion: '15 ou superior',
        link: 'https://play.google.com/store/apps/details?id=com.IFBAIANO.PECAPORPECA&pcampaignid=web_share'
    },
    {
        id: 7,
        title: 'MathAttack - em manunten√ß√£o',
        category: 'jogos',
        image: 'logos/ma.webp',
        androidVersion: '15 ou superior',
        link: 'https://play.google.com/store/apps/developer?id=GRUPO+DE+ESTUDO+DE+JOGOS+DO+IFBAIANO'
    },
    {
        id: 8,
        title: "Dalton's Game",
        category: 'jogos',
        image: 'logos/dg.jpg',
        androidVersion: '14 ou superior',
        link: 'https://play.google.com/store/apps/details?id=com.Shooter.DaltonsGame&pcampaignid=web_share'
    },
    {
        id: 9,
        title: 'Milenyum Math Navigator',
        category: 'jogos',
        image: 'logos/mmn.png',
        androidVersion: '14 ou superior',
        link: 'https://play.google.com/store/apps/details?id=com.IFBAIANO.MilenyumMathNavigator&pcampaignid=web_share'
    },
    {
        id: 10,
        title: 'Geometric Shapes In Space',
        category: 'jogos',
        image: 'logos/gss.png',
        androidVersion: '14 ou superior',
        link: 'https://play.google.com/store/apps/details?id=com.IFBAIANO.GeometricShapesInSpace&pcampaignid=web_share'
    },
    {
        id: 11,
        title: 'Neon - Jogo de Soma',
        category: 'jogos',
        image: 'logos/njs.jpg',
        androidVersion: '14 ou superior',
        link: 'https://play.google.com/store/apps/details?id=com.IFbaiamo.NeonJogodesoma&pcampaignid=web_share'
    },
    {
        id: 12,
        title: 'N√∫meros nas Estrelas',
        category: 'jogos',
        image: 'logos/ne.png',
        androidVersion: '14 ou superior',
        link: 'https://play.google.com/store/apps/details?id=com.IFBAIANO.NUMEROSNASESTRELAS&pcampaignid=web_share'
    },
    {
        id: 13,
        title: 'GamaMath - em manunten√ß√£o',
        category: 'jogos',
        image: 'logos/gm.png',
        androidVersion: '8.1 ou superior',
        link: 'https://play.google.com/store/apps/developer?id=GRUPO+DE+ESTUDO+DE+JOGOS+DO+IFBAIANO'
    },
    {
        id: 14,
        title: 'Elementos Geom√©tricos',
        category: 'jogos',
        image: 'logos/eg.png',
        androidVersion: '8.1 ou superior',
        link: 'https://play.google.com/store/apps/details?id=com.IFBAIANO.ElementosGeometricosria&pcampaignid=web_share'
    },
    {
        id: 15,
        title: 'Oxe e as Vogais',
        category: 'jogos',
        image: 'logos/ov.jpg',
        androidVersion: '8.1 ou superior',
        link: 'https://play.google.com/store/apps/details?id=com.IFBAIANO.OXE&pcampaignid=web_share'
    },
    {
        id: 16,
        title: 'Charadas da Matem√°tica - em manunten√ß√£o',
        category: 'jogos',
        image: 'logos/cm.webp',
        androidVersion: '14 ou superior',
        link: 'https://play.google.com/store/apps/developer?id=GRUPO+DE+ESTUDO+DE+JOGOS+DO+IFBAIANO'
    },

    // üì± APPS
    {
        id: 17,
        title: 'EditQuiz',
        category: 'apps',
        image: 'logos/eq.webp',
        androidVersion: '15 ou superior',
        link: 'https://play.google.com/store/apps/details?id=com.DefaultCompany.EditQuiz&pcampaignid=web_share'
    },
    {
        id: 18,
        title: 'C√≥digo de Defesa do Consumidor',
        category: 'apps',
        image: 'logos/cdc.webp',
        androidVersion: '15 ou superior',
        link: 'https://play.google.com/store/apps/details?id=com.IfbaianoAppDev.CdigodeDefesadoConsumidor&pcampaignid=web_share'
    },
    {
        id: 19,
        title: 'Inform√°tica para Concursos - em manunten√ß√£o',
        category: 'apps',
        image: 'logos/ic.webp',
        androidVersion: '9 ou superior',
        link: 'https://play.google.com/store/apps/developer?id=GRUPO+DE+ESTUDO+DE+JOGOS+DO+IFBAIANO'
    },
    {
        id: 20,
        title: 'T√©cnico Agr√≠cola IFBAIANO-SBF',
        category: 'apps',
        image: 'logos/ta.webp',
        androidVersion: '14 ou superior',
        link: 'https://play.google.com/store/apps/details?id=com.IFBAIANO.tec_agropecuaria&pcampaignid=web_share'
    },
    {
        id: 20,
        title: 'Tec. Agrimensura IFBAIANO-SBF',
        category: 'apps',
        image: 'logos/ag.webp',
        androidVersion: '14 ou superior',
        link: 'https://play.google.com/store/apps/details?id=com.Biozard.CursoTecnicoemAgrimensura&pcampaignid=web_share'
    },
    {
        id: 21,
        title: 'Campus IFBAIANO - em manunten√ß√£o',
        category: 'apps',
        image: 'logos/if.webp',
        androidVersion: '11 ou superior',
        link: 'https://play.google.com/store/apps/developer?id=GRUPO+DE+ESTUDO+DE+JOGOS+DO+IFBAIANO'
    },
    {
        id: 22,
        title: 'Brasil: UF e Bandeiras - em manunten√ß√£o',
        category: 'apps',
        image: 'logos/br.webp',
        androidVersion: '8.1 ou superior',
        link: 'https://play.google.com/store/apps/developer?id=GRUPO+DE+ESTUDO+DE+JOGOS+DO+IFBAIANO'
    },
    {
        id: 23,
        title: 'T√©cnico Inform√°tica IFBAIANO',
        category: 'apps',
        image: 'logos/ti.webp',
        androidVersion: '8.1 ou superior',
        link: 'https://play.google.com/store/apps/details?id=com.IFBaiano.Tecnoinf&pcampaignid=web_share'
    },
    {
        id: 24,
        title: 'Cursos do IFBAIANO - SBF',
        category: 'apps',
        image: 'logos/cif.webp',
        androidVersion: '13 ou superior',
        link: 'https://play.google.com/store/apps/details?id=com.IFBAIANO.CURSOS&pcampaignid=web_share'
    },
    {
        id: 25,
        title: 'Comunidades Quilombolas Bonfim',
        category: 'apps',
        image: 'logos/cqb.webp',
        androidVersion: '14 ou superior',
        link: 'https://play.google.com/store/apps/details?id=com.IFBAIANOAPPDEV.QuilombolasComunity&pcampaignid=web_share'
    },
    {
        id: 26,
        title: 'Introdu√ß√£o √† Computa√ß√£o',
        category: 'apps',
        image: 'logos/icc.webp',
        androidVersion: '14 ou superior',
        link: 'https://play.google.com/store/apps/details?id=com.IFBAIANO.IntroduoaComputao&pcampaignid=web_share'
    },
    {
        id: 27,
        title: 'T√©cnico Alimentos IFBAINO-SBF',
        category: 'apps',
        image: 'logos/tal.webp',
        androidVersion: '14 ou superior',
        link: 'https://play.google.com/store/apps/details?id=com.YFCompany.TecnicoemAlimentos&pcampaignid=web_share'
    },
    {
        id: 28,
        title: 'Lic. em Computa√ß√£o IFBAIANO',
        category: 'apps',
        image: 'logos/lic.webp',
        androidVersion: '13 ou superior',
        link: 'https://play.google.com/store/apps/details?id=com.IFBAIANOSBF2022.appLcc2022&pcampaignid=web_share'
    }
];


// Elementos do DOM
const gamesGrid = document.querySelector('.games-grid');  // Cont√™iner onde os jogos ser√£o exibidos
const filterButtons = document.querySelectorAll('.filter-btn');  // Bot√µes de filtro para as categorias de jogos
const mobileMenuBtn = document.querySelector('.mobile-menu-btn');  // Bot√£o para abrir o menu em dispositivos m√≥veis
const menu = document.querySelector('.menu');  // Menu de navega√ß√£o

// Inicializa√ß√£o da p√°gina quando o conte√∫do for totalmente carregado
document.addEventListener('DOMContentLoaded', () => {
    // Exibe todos os jogos inicialmente
    displayGames('all');
    
    // Configura o menu m√≥vel
    setupMobileMenu();
});

// Fun√ß√£o para exibir os jogos com base na categoria selecionada
function displayGames(category) {
    // Limpa a grid de jogos
    gamesGrid.innerHTML = '';
    
    // Filtra os jogos com base na categoria (se for 'all', exibe todos os jogos)
    const filteredGames = category === 'all' 
        ? games 
        : games.filter(game => game.category === category);
    
    // Cria os cards de jogo e os adiciona √† grid
    filteredGames.forEach(game => {
        // Define um URL de imagem placeholder caso a imagem do jogo n√£o exista
        const imageSrc = game.image || `/placeholder.svg?height=200&width=300`;
        
        // Cria o card de jogo
        const gameCard = document.createElement('div');
        gameCard.className = 'game-card';  // Adiciona a classe 'game-card' ao card do jogo
        gameCard.innerHTML = `
            <img src="${imageSrc}" alt="${game.title}" class="game-image">
            <div class="game-info">
                <h3 class="game-title">${game.title}</h3>
                <p class="game-category">${game.category.charAt(0).toUpperCase() + game.category.slice(1)}</p>
                <div class="game-price">
                    <span class="price"></span>
                    <a href="${game.link}" class="rent-btn" target="_blank">Instalar</a>
                    <span class="price"></span>
                </div>
            </div>
        `;
        
        // Adiciona o card √† grid de jogos
        gamesGrid.appendChild(gameCard);
    });
}

// Fun√ß√£o para o clique dos bot√µes de filtro
filterButtons.forEach(button => {
    button.addEventListener('click', () => {
        // Remove a classe 'active' de todos os bot√µes
        filterButtons.forEach(btn => btn.classList.remove('active'));
        
        // Adiciona a classe 'active' ao bot√£o clicado
        button.classList.add('active');
        
        // Pega a categoria associada ao bot√£o (usando o atributo 'data-filter')
        const category = button.getAttribute('data-filter');
        
        // Exibe os jogos da categoria selecionada
        displayGames(category);
    });
});

// Fun√ß√£o para configurar o menu m√≥vel
function setupMobileMenu() {
    mobileMenuBtn.addEventListener('click', () => {
        // Alterna a classe 'active' do menu (abre ou fecha o menu)
        menu.classList.toggle('active');
        
        // Alterna a apar√™ncia do bot√£o de menu (transformando em um 'X' quando o menu √© aberto)
        const spans = mobileMenuBtn.querySelectorAll('span');
        spans[0].classList.toggle('rotate-45');
        spans[1].classList.toggle('opacity-0');
        spans[2].classList.toggle('-rotate-45');
    });
}

// Fun√ß√£o para o bot√£o 'Ver Todos os Jogos'
const viewAllButton = document.getElementById('view-all-games');

// Adiciona evento de clique ao bot√£o 'Ver Todos os Jogos'
viewAllButton.addEventListener('click', (event) => {
    event.preventDefault();  // Previne o comportamento padr√£o (evitar recarregar a p√°gina)
    
    // Exibe todos os jogos novamente
    displayGames('all');
    
    // Opcional: Rola para o topo da se√ß√£o de jogos (para melhorar a experi√™ncia)
    window.scrollTo({
        top: document.querySelector('#games').offsetTop,
        behavior: 'smooth'
    });
});

// Fun√ß√£o para rolagem suave para links de navega√ß√£o
document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function(e) {
        e.preventDefault();  // Previne o comportamento padr√£o (evitar recarregar a p√°gina)
        
        const targetId = this.getAttribute('href');
        const targetElement = document.querySelector(targetId);
        
        if (targetElement) {
            window.scrollTo({
                top: targetElement.offsetTop - 80,  // Rola para o alvo com um pequeno ajuste de dist√¢ncia
                behavior: 'smooth'
            });
            
            // Fecha o menu m√≥vel se estiver aberto
            menu.classList.remove('active');
        }
    });
});

// Fun√ß√£o para adicionar anima√ß√£o aos elementos enquanto rola a p√°gina
const animateOnScroll = () => {
    const elements = document.querySelectorAll('.step, .pricing-card, .game-card');
    
    elements.forEach(element => {
        const elementPosition = element.getBoundingClientRect().top;
        const screenPosition = window.innerHeight / 1.3;
        
        // Verifica se o elemento est√° vis√≠vel na tela
        if (elementPosition < screenPosition) {
            element.classList.add('animate');
        }
    });
};

// Adiciona evento de scroll na janela para ativar anima√ß√£o
window.addEventListener('scroll', animateOnScroll);

// Configura√ß√£o do modal de autentica√ß√£o
const authModal = document.getElementById('auth-modal');
const closeModal = document.querySelector('.close-modal');
const showLoginLink = document.getElementById('show-login');
const showRegisterLink = document.getElementById('show-register');
const loginForm = document.getElementById('login-form');
const registerForm = document.getElementById('register-form');
const btnEntrar = document.querySelector('.btn-secondary');
const btnCadastrar = document.querySelector('.btn-primary');

// Fun√ß√£o para mostrar o modal de login
btnEntrar.addEventListener('click', () => {
    authModal.style.display = 'flex';
    loginForm.style.display = 'block';
    registerForm.style.display = 'none';
});

// Fun√ß√£o para mostrar o modal de cadastro
btnCadastrar.addEventListener('click', () => {
    authModal.style.display = 'flex';
    loginForm.style.display = 'none';
    registerForm.style.display = 'block';
});

// Fun√ß√£o para fechar o modal de autentica√ß√£o
closeModal.addEventListener('click', () => {
    authModal.style.display = 'none';
});

// Alternar entre formul√°rios de login e cadastro dentro do modal
showLoginLink.addEventListener('click', () => {
    loginForm.style.display = 'block';
    registerForm.style.display = 'none';
});

showRegisterLink.addEventListener('click', () => {
    loginForm.style.display = 'none';
    registerForm.style.display = 'block';
});

// Fechar o modal se o usu√°rio clicar fora dele
window.addEventListener('click', (e) => {
    if (e.target === authModal) {
        authModal.style.display = 'none';
    }
});

// Fun√ß√£o para redirecionar diretamente para a p√°gina de assinatura quando um bot√£o for clicado
document.querySelectorAll('.pricing-footer a, .pricing-card > a.btn').forEach(button => {
    button.addEventListener('click', function(e) {
        e.preventDefault();  // Previne o comportamento padr√£o (evitar recarregar a p√°gina)
        window.location.href = this.getAttribute('href');  // Redireciona para o link especificado
    });
});

// Fun√ß√£o para exibir o modal de cadastro ao clicar no bot√£o de cadastro
const ctaCadastrar = document.getElementById('cta-cadastrar');

// Adiciona o evento de clique ao bot√£o 'cta-cadastrar'
ctaCadastrar.addEventListener('click', function(e) {
    e.preventDefault();  // Evita o comportamento padr√£o do link
    
    // Exibe o modal de autentica√ß√£o
    authModal.style.display = 'flex';
    
    // Mostra o formul√°rio de cadastro
    loginForm.style.display = 'none';
    registerForm.style.display = 'block';
});
